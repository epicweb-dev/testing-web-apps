# Unit Testing Encryption

üë®‚Äçüíº If <InlineFile file="app/utils/encryption.server.ts">our encryption utility</InlineFile>
broke for any reason, it would be devastating to our business. Users wouldn't be
able to login! So we want to write some comprehensive unit tests for our
`encrypt` and `decrypt` functions.

Here are some test titles to get you started:

- `encrypts and decrypts text correctly`
- `throws an error when trying to decrypt invalid text`
- `produces different encrypted text for the same input`

üí∞ Remember to check the "Files" popup below to create the test file automatically.

Oh, and because we're running these tests with vitest instead of playwright,
you're going to need to use a new script:

```sh
npm test
```

If you run this before creating the first test file you'll get an error:

```txt nonumber nocopy nolang
filter:  encryption
include: ./app/**/*.test.{ts,tsx}
exclude:  **/node_modules/**, **/dist/**, **/cypress/**, **/.{idea,git,cache,output,temp}/**, **/{karma,rollup,webpack,vite,vitest,jest,av
a,babel,nyc,cypress,tsup,build}.config.*                                                                                                  watch exclude:  **/node_modules/**, **/dist/**

No test files found, exiting with code 1
```

So make sure you create the test file first.

We've already got everything setup and configured in <InlineFile file="vitest.config.ts" />
so you should be good to go once you create the test file.

üí∞ Script to run for this exercise:

```sh
npm run test -- encryption
```
